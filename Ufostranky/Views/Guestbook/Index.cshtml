@model IEnumerable<Ufostranky.Models.Guestbook>

@{
    ViewBag.Title = "Návštěvní kniha";
}

<h2 class="contentHeading">Návštěvní kniha</h2>

<div id="guestsTable">
@if (Model.Count() == 0) { 
    <text>Zatím nebyly přídány žádné příspěvky.</text>
} else {
    foreach (var item in Model)
    {
        <div class="gbPost">
            <span class="author">@Html.DisplayFor(modelItem => item.Author)</span>
            <p class="hidingArrow">&#9650;</p>
            
            <p class="gbText hide">
                @Html.DisplayFor(modelItem => item.Text)
            </p>
            @* ADMIN
    <span>@Html.ActionLink("Delete", "Delete", new { id = item.Id })</span>*@
            <span class="gbCreated hide">@Html.DisplayFor(modelItem => item.Created)</span>
            <hr class="clear" />
        </div>
    }
}
</div>

@* Create part *@
@using (Html.BeginForm("Index", "Guestbook", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <hr class="blackLine"/>
    <div>
        @{Html.RenderPartial("Create", new Ufostranky.Models.Guestbook());}
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/Scripts/guestbook.js")
}
